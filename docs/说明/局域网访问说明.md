# 局域网访问说明

## ✅ 已完成的修改

已修改 `app/main.py`，让服务器监听所有网络接口（`host='0.0.0.0'`），现在其他设备可以访问了。

---

## 🔄 重启服务器

**重要：必须重启服务器才能生效！**

1. 在运行服务器的终端按 `Ctrl + C` 停止服务器
2. 重新启动：
   ```powershell
   .\.venv\Scripts\Activate.ps1
   python -m app.main
   ```

启动后你会看到类似这样的输出：
```
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.21:5000
```

---

## 📱 如何访问

### 方法1：本机访问（不变）
- `http://localhost:5000`
- `http://127.0.0.1:5000`

### 方法2：局域网内其他设备访问

**你的电脑IP地址：**
- 主要IP：`192.168.1.21`（通常是这个）
- 其他IP：`192.168.40.1`、`192.168.236.1`、`10.151.15.239`

**其他设备访问地址：**
```
http://192.168.1.21:5000
```

**前提条件：**
1. 你的电脑和其他设备必须在**同一个WiFi/局域网**内
2. 防火墙允许5000端口（Windows可能会提示，选择"允许访问"）

---

## 🔍 如何确认IP地址

如果上面的IP不对，可以运行：
```powershell
ipconfig
```

查找 "IPv4 地址"，通常以 `192.168.x.x` 或 `10.x.x.x` 开头的是局域网IP。

---

## 🛡️ 防火墙设置

### Windows防火墙
如果其他设备无法访问，Windows可能会弹出防火墙提示：
- 选择"允许访问"或"允许应用通过防火墙"
- 或者手动添加规则：
  1. 打开"Windows Defender 防火墙"
  2. 点击"高级设置"
  3. 添加入站规则，允许端口5000

---

## 📱 手机访问测试

1. 确保手机和电脑连接**同一个WiFi**
2. 在手机浏览器输入：`http://192.168.1.21:5000`
3. 应该能看到登录页面

---

## ⚠️ 注意事项

1. **安全性**：`debug=True` 模式仅用于开发，生产环境需要关闭
2. **IP变化**：如果WiFi断开重连，IP地址可能会变化
3. **仅局域网**：这种方式只能在同一局域网内访问，不能从外网访问

---

## 🌐 如果需要外网访问

如果需要从外网（比如从家里访问学校的服务器），需要：
1. 配置路由器端口转发
2. 使用内网穿透工具（如ngrok、frp等）
3. 部署到云服务器

但对于作业演示，局域网访问就足够了。

---

## ✅ 测试步骤

1. **重启服务器**（使用新的配置）
2. **本机测试**：`http://localhost:5000`（应该正常）
3. **手机测试**：`http://192.168.1.21:5000`（确保手机和电脑同一WiFi）
4. **其他电脑测试**：`http://192.168.1.21:5000`（确保同一局域网）

---

**现在重启服务器，然后就可以用手机或其他设备访问了！** 🎉

